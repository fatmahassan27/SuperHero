@model IEnumerable<CategoryVM>
@using Microsoft.AspNetCore.Identity;
@using SuperHero.BL.Seeds;
@inject SignInManager<Person> signInManager

@{
    var userinfo = await signInManager.UserManager.FindByNameAsync(User.Identity.Name);

}
@{
    ViewData["Title"] = "GetALL";
    Layout = "~/Views/AdminLayout/_Layout.cshtml";
}
@section CSS{
    <partial name="~/views/person/Partial/css.cshtml" />
}
    <a class="btn1 third col-sm-3  me-2 js-friends" data-url="/Categories/Create" href="javascript:;"> &nbsp; &nbsp; &nbsp;<i class="uil uil-create-dashboard "></i> &nbsp; Create</a>
    <br />
    <br />
    <table id="example" class="table" style="width:100%;color:darkgrey">
        <thead>
            <tr>

                <th>CategoryName</th>

                <th>createdTime</th>

                <th>IsDelete</th>

                <th>UpdateTime</th>

                <th>Action</th>


            </tr>
        </thead>
        <tbody>
        @foreach (var item in Model)
        {
            <tr>

                <td>@item.CategoryName</td>

                <td>@item.createdTime</td>

                <td class="danger">
                    <span class="js-status  badge rounded-pill bg-@(item.IsDelete ? "danger" : "success")" style='color:white;'>
                        @(item.IsDelete ? "Deleted" : "Available")
                    </span>

                </td>

                <td>
                    @item.UpdateTime
                </td>


               

                <td>
                    @if (await signInManager.UserManager.IsInRoleAsync(userinfo, AppRoles.Admin))
                    {
                        <div class="dropdown ">
                            <p class="btn dropbtn btn-outline-info" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Action
                        </p>


                            <div class="dropdown-menu dropdown-content  align-items-center " aria-labelledby="dropdownMenuLink">

                                <a style="text-align: center" class="js-friends  dropdown-item" href="javascript:;" data-url="/Categories/Edite/@item.ID" data-update="true">Edite</a>
                            <a style="text-align: center" class="dropdown-item js-category-status" href="javascript:;" data-id="@item.ID">

                                Toggel status
                            </a>


                        </div>
                    </div>
                    }
                </td>
            </tr>
        }


    </tbody>

</table>
<partial name="~/views/post/Model.cshtml">
    @section JS{
        <partial name="~/views/post/scripts.cshtml">

            <partial name="~/views/person/Partial/script.cshtml" />
            <script src="~/dashboard/lib/bootbox.js/bootbox.min.js"></script>

        }
