<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/jquery-validation/additional-methods.js"></script>
<script src="~/jquery-validation/jquery.validate.js"></script>
<script src="~/identity/js/validation-styling.js"></script>
<script src="~/jquery-validation/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>
<script src="~/jquery-validation/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
@*<script>

    var FileUpload = function (el) {

        this.noValue = 'No Media Chosen';

        this.$container = $(el);
        this.$input = this.$container.find('input');
        this.$result = this.$container.next('.file-upload_result').html(this.noValue);

        this.getValue();
    };

    FileUpload.prototype.getValue = function () {

        var self = this;

        this.$input.on('change', function () {

            var valueArray = $(this).val().split('\\'),
                value = valueArray[valueArray.length - 1];

            if (value.length === 0) {
                self.$result.html(self.noValue);
            }
            else {
                self.$result.html(value);
            }
        });
    };

    new FileUpload('.file-upload');
</script>*@
<partial name="~/views/datatable/_datatablescripts.cshtml" />

<script>

    $(document).ready(function () {
        $('table').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ],
         
        }
        );
        $('.btn-secondary').css('border-radius', '50%');
        $('.js-toggle-status').on('click', function () {

            var btn = $(this);
            bootbox.confirm({
                message: "Are you sure that you need to toggle this Person?",
                buttons: {
                    confirm: {
                        label: 'Yes',
                        className: 'btn-danger'
                    },
                    cancel: {
                        label: 'No',
                        className: 'btn-secondary'
                    }
                },
                callback: function (result) {
                    if (result) {

                        $.post({
                            url: '/Person/Delete/' + btn.data('id'),

                            success: function (lastUpdatedOn) {
                                var row = btn.parents('tr');
                                var status = row.find('.js-status');
                                var newStatus = status.text().trim() === 'Deleted' ? 'Available' : 'Deleted';
                                status.text(newStatus).toggleClass('bg-success bg-danger');
                                row.find('.js-updated-on').html(lastUpdatedOn);
                                row.addClass('animate__animated animate__flash');

                                showSuccessMessage();
                            },
                            error: function () {
                                showErrorMessage();
                            }
                        });
                    }
                }
            });
        });
    });

</script>
<script>

    $(document).ready(function () {
        $('.js-Course-status').on('click', function () {

            var btn = $(this);
            bootbox.confirm({
                message: "Are you sure that you need to toggle this Course?",
                buttons: {
                    confirm: {
                        label: 'Yes',
                        className: 'btn-danger'
                    },
                    cancel: {
                        label: 'No',
                        className: 'btn-secondary'
                    }
                },
                callback: function (result) {
                    if (result) {

                        $.post({
                            url: '/Course/Delete/' + btn.data('id'),

                            success: function (lastUpdatedOn) {
                                var row = btn.parents('tr');
                                var status = row.find('.js-status');
                                var newStatus = status.text().trim() === 'Deleted' ? 'Available' : 'Deleted';
                                status.text(newStatus).toggleClass('bg-success bg-danger');
                                row.find('.js-updated-on').html(lastUpdatedOn);
                                row.addClass('animate__animated animate__flash');

                                showSuccessMessage();
                            },
                            error: function () {
                                showErrorMessage();
                            }
                        });
                    }
                }
            });
        });
    });

</script>
<script>

    $(document).ready(function () {
        $('.js-category-status').on('click', function () {

            var btn = $(this);
            bootbox.confirm({
                message: "Are you sure that you need to toggle this Person?",
                buttons: {
                    confirm: {
                        label: 'Yes',
                        className: 'btn-danger'
                    },
                    cancel: {
                        label: 'No',
                        className: 'btn-secondary'
                    }
                },
                callback: function (result) {
                    if (result) {

                        $.post({
                            url: '/Categories/Delete/' + btn.data('id'),

                            success: function (lastUpdatedOn) {
                                var row = btn.parents('tr');
                                var status = row.find('.js-status');
                                var newStatus = status.text().trim() === 'Deleted' ? 'Available' : 'Deleted';
                                status.text(newStatus).toggleClass('bg-success bg-danger');
                                row.find('.js-updated-on').html(lastUpdatedOn);
                                row.addClass('animate__animated animate__flash');

                                showSuccessMessage();
                            },
                            error: function () {
                                showErrorMessage();
                            }
                        });
                    }
                }
            });
        });
    });

</script>
<script>
   
        /* When the user clicks on the button,
        toggle between hiding and showing the dropdown content */
        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
        }

    // Close the dropdown if the user clicks outside of it
    window.onclick = function (event) {
        if (!event.target.matches('.dropbtn')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }
</script>

